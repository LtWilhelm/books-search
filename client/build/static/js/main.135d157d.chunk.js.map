{"version":3,"sources":["components/NavBar.jsx","components/Jumbotron.jsx","components/Book.jsx","util/booksAPI.js","pages/Search.jsx","pages/Saved.jsx","App.jsx","registerServiceWorker.js","index.js"],"names":["NavBar","className","href","this","props","location","Component","Jumbotron","Book","src","image","alt","title","author","description","target","rel","link","document","pathname","onClick","click","synopsis","axios","require","booksAPI","searchBook","query","trim","replace","get","saveBook","body","post","getSaved","Search","state","books","search","then","res","console","log","data","items","setState","catch","err","handleInputChange","event","name","value","handleSearch","preventDefault","save","result","onChange","type","style","marginBottom","map","book","key","id","volumeInfo","imageLinks","thumbnail","authors","join","infoLink","Saved","filter","toLowerCase","indexOf","_id","App","path","component","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","error","ReactDOM","render","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.135d157d.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nclass NavBar extends Component {\r\n\r\n    render(){\r\n        return (\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <a className=\"navbar-brand\" href=\"/\">Google Books</a>\r\n                <ul className=\"nav navbar-dark\">\r\n                    <li className=\"nav-item\">\r\n                        <a className={\"nav-link \" + (this.props.location === \"/search\" ? \"active\" : \"\")} href=\"/search\">Search</a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <a className={\"nav-link \" + (this.props.location === \"/saved\" ? \"active\" : \"\")} href=\"/saved\">Saved</a>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NavBar;","import React, { Component } from 'react';\r\n\r\nclass Jumbotron extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"jumbotron jumbotron-fluid\">\r\n                <div className=\"container\">\r\n                    <h1 className=\"display-3\">Google Books Search</h1>\r\n                    <p className=\"lead\">Search Google Books for your favorite titles to add them to your reading list</p>\r\n                    <hr className=\"my-2\" />\r\n                    <p>To get started, simply use the search bar below!</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Jumbotron;","import React, {Component} from 'react';\r\n\r\nclass Book extends Component {\r\n    render() {\r\n        return(\r\n        <div className=\"card col-4\">\r\n            <img className=\"card-img-top\" src={this.props.image} alt=\"book cover\" />\r\n            <div className=\"card-body\">\r\n                <h4 className=\"card-title\">{this.props.title}</h4>\r\n                <h5 className=\"card-title\">By: {this.props.author || 'No author listed'}</h5>\r\n                <p className=\"card-text\">{this.props.description}</p>\r\n                <a className=\"btn btn-secondary\" target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.link}>View Book</a>\r\n                {document.location.pathname === '/search' && <button className=\"btn btn-primary ml-1\" onClick={() => this.props.click({\r\n                    image: this.props.image,\r\n                    title: this.props.title,\r\n                    author: this.props.author,\r\n                    synopsis: this.props.description\r\n                })}>Save Book</button>}\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Book;","const axios = require('axios');\r\n\r\nconst queryURL = \"https://www.googleapis.com/books/v1/volumes?q=\"\r\nconst booksAPI = {\r\n    searchBook: function(query) {\r\n        query = query.trim().replace(/\\s/g, \"+\");\r\n        return axios.get(queryURL + query);\r\n    },\r\n    saveBook: function(body) {\r\n        return axios.post('/api/addbook', body);\r\n    },\r\n    getSaved: function() {\r\n        return axios.get('/api/books');\r\n    }\r\n}\r\n\r\nexport default booksAPI;","import React, { Component } from 'react';\r\nimport Book from '../components/Book';\r\nimport booksAPI from '../util/booksAPI';\r\n\r\nclass Search extends Component {\r\n    state = {\r\n        books: [],\r\n        search: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.search()\r\n        \r\n    }\r\n\r\n    search = () => {\r\n        booksAPI.searchBook(this.state.search)\r\n            .then(res => {\r\n                console.log(res.data.items)\r\n                this.setState({ books: (res.data.items) });\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n\r\n        this.setState({[name]: value });\r\n    }\r\n\r\n    handleSearch = event => {\r\n        event.preventDefault();\r\n        this.search();\r\n    }\r\n\r\n    save = body => {\r\n        booksAPI.saveBook(body)\r\n        .then((result) => {\r\n            console.log(result)\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        });;\r\n        console.log('saved?')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <form>\r\n                        <input onChange={this.handleInputChange} className=\"form-control\" name=\"search\" type=\"text\" value={this.state.search} \r\n                        style={{\r\n                            marginBottom: '.3em'\r\n                        }} />\r\n                        <button onClick={this.handleSearch} className=\"btn btn-primary\"\r\n                        style={{\r\n                            marginBottom: '1em'\r\n                        }}>\r\n                            Search\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n                <div className=\"row\">\r\n                    {this.state.books && this.state.books.map(book => <Book key={book.id} image={book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks.thumbnail : null} title={book.volumeInfo.title} description={book.volumeInfo.description} author={book.volumeInfo.authors && book.volumeInfo.authors.join(\", \")} link={book.volumeInfo.infoLink} click={this.save} />)}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Search;","import React, {Component} from 'react';\r\nimport booksAPI from '../util/booksAPI';\r\nimport Book from '../components/Book';\r\n\r\nclass Saved extends Component {\r\n    state = {\r\n        books: [],\r\n        search: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        booksAPI.getSaved()\r\n            .then(result => {\r\n                console.log(result)\r\n                this.setState({books: result.data});\r\n            })\r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n\r\n        this.setState({[name]: value });\r\n    }\r\n\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"container\">\r\n            <div className=\"row\"\r\n            style={{\r\n                marginBottom: '1em'\r\n            }}>\r\n                <form>\r\n                    <input onChange={this.handleInputChange} className=\"form-control\" name=\"search\" type=\"text\" value={this.state.search} />\r\n                </form>\r\n            </div>\r\n            <div className=\"row\">\r\n                {this.state.books && (this.state.search ? this.state.books.filter(book => (book.title.toLowerCase().indexOf(this.state.search) !== -1)).map(book => <Book key={book._id} image={book.image} title={book.title} description={book.description} author={book.author.join(\", \")} link={book.infoLink} />):\r\n                this.state.books.map(book => <Book key={book._id} image={book.image} title={book.title} description={book.description} author={book.authors && book.authors.join(\", \")} link={book.infoLink} />))}\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Saved;","import React, { Component } from \"react\";\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport \"./App.css\";\n\nimport NavBar from './components/NavBar';\nimport Jumbotron from './components/Jumbotron';\nimport Search from './pages/Search';\nimport Saved from './pages/Saved';\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <NavBar location={document.location.pathname} />\n        <Jumbotron />\n        <Switch>\n          <Route path=\"/search\" component={Search} />\n          <Route path=\"/saved\" component={Saved} />\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport registerServiceWorker from \"./registerServiceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nregisterServiceWorker();\n"],"sourceRoot":""}